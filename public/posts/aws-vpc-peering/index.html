<!DOCTYPE html>
<html lang="en-us"
  dir="ltr">

<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width">








    






<link rel="icon" type="image/ico" href="https://ndlrfz.web.id/favicon.ico/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://ndlrfz.web.id/favicon.ico/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://ndlrfz.web.id/favicon.ico/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="192x192" href="https://ndlrfz.web.id/favicon.ico/android-chrome-192x192.png">
<link rel="apple-touch-icon" sizes="180x180" href="https://ndlrfz.web.id/favicon.ico/apple-touch-icon.png">

<meta name="description" content=""/>



<title>
    
    Guide to AWS VPC Peering | ndlr/fz/96 ü¶Ñ
    
</title>

<link rel="canonical" href="https://ndlrfz.web.id/posts/aws-vpc-peering/"/>

<meta property="og:url" content="https://ndlrfz.web.id/posts/aws-vpc-peering/">
  <meta property="og:site_name" content="ndlr/fz/96 ü¶Ñ">
  <meta property="og:title" content="Guide to AWS VPC Peering">
  <meta property="og:description" content="Intro # VPC Peering is needed when you want to connect two different VPC each other. Mostly used for cross-department in SDLC.
In this example, I will connect between two VPCs Developer and Finance, and each VPC attached to different EC2 intance.
Check Private IP range of an EC2 instance # Make sure to check local IP address range for both Developer and Finance instances.
Navigate to the Developer instance, select and click on the Subnet ID In the subnet section, select your subnet name and click on the Route table In the route table section, select your route table and click Routes tab Take a notes on the private IP address range for the Developer instance Creating VPC Peering # Go to the VPC menu via console, select Peering connections, then click Create peering connection button Enter your peering details such as: Name: Developer &lt;&gt; Finance VPC ID (Requester): Select the Developer VPC and check the local IP address range of the VPC VPC ID (Accepter): Select the Finance VPC and check the local IP range of the VPC Tags: Name =&gt; Developer &lt;&gt; Finance Confirm click the Create peering connection On the peering details, you can see the Status is Pending Click Actions menu and select Accept request and confirm again (The Status of peering become Active) Adding VPC Peering to Subnet Route Table # This must be done on EC2 servers for both Developer and Finance.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-03-21T00:22:46+07:00">
    <meta property="article:modified_time" content="2025-03-21T00:22:46+07:00">
    <meta property="article:tag" content="Aws">













<link rel="stylesheet" href="/assets/combined.min.50ce41bb79b4f4e847deca2eaed68e35a9edb3b82be6ea9104596f33d98c415f.css" media="all">















    




</head>







<body class="auto">

  <div class="content">
    <header>
      

<div class="header">

    

    <h1 class="header-title">
        <a href="https://ndlrfz.web.id/">ndlr/fz/96 ü¶Ñ</a>
    </h1>

    <div class="flex">
        

        
        
      
        <p class="small ">
            <a href="/" >
                /home
            </a>
        </p>
        
      
        <p class="small ">
            <a href="/posts" >
                /posts
            </a>
        </p>
        
      
        <p class="small ">
            <a href="/tags" >
                /tags
            </a>
        </p>
        
      
        <p class="small ">
            <a href="/contact-me" >
                /contact-me
            </a>
        </p>
        
        
    </div>

    

</div>

    </header>

    <main class="main">
      







<div >

  <div class="single-intro-container">

    

    <h1 class="single-title">Guide to AWS VPC Peering</h1>
    

    

    <p class="single-readtime">
      
      
      
      <time datetime="2025-03-21T00:22:46&#43;07:00">March 21, 2025</time>
      

      
    </p>

  </div>

  

  

  

  

  <div class="single-content">
    <h2 class="heading" id="intro">
  Intro
  <a class="anchor" href="#intro">#</a>
</h2>
<p>VPC Peering is needed when you want to connect <strong>two</strong> different VPC each other. Mostly used for cross-department in SDLC.</p>
<p>In this example, I will connect between two VPCs <em>Developer</em> and <em>Finance</em>, and each VPC attached to different EC2 intance.</p>
<h2 class="heading" id="check-private-ip-range-of-an-ec2-instance">
  Check Private IP range of an EC2 instance
  <a class="anchor" href="#check-private-ip-range-of-an-ec2-instance">#</a>
</h2>
<p><strong>Make sure to check local IP address range for both <em>Developer</em> and <em>Finance</em> instances.</strong></p>
<ol>
<li>Navigate to the <em>Developer</em> instance, select and click on the <code>Subnet ID</code></li>
<li>In the subnet section, select your subnet name and click on the <code>Route table</code></li>
<li>In the route table section, select your route table and click <code>Routes</code> tab</li>
<li>Take a notes on the private IP address range for the <em>Developer</em> instance</li>
</ol>
<h2 class="heading" id="creating-vpc-peering">
  Creating VPC Peering
  <a class="anchor" href="#creating-vpc-peering">#</a>
</h2>
<ol>
<li>Go to the <code>VPC</code> menu via console, select <code>Peering connections</code>, then click <code>Create peering connection</code> button</li>
<li>Enter your peering details such as:
<ul>
<li><em>Name</em>: Developer &lt;&gt; Finance</li>
<li><em>VPC ID (Requester)</em>: Select the <strong>Developer</strong> VPC and check the local IP address range of the VPC</li>
<li><em>VPC ID (Accepter)</em>: Select the <strong>Finance</strong> VPC and check the local IP range of the VPC</li>
<li><em>Tags</em>: Name =&gt; Developer &lt;&gt; Finance</li>
</ul>
</li>
<li>Confirm click the <code>Create peering connection</code></li>
<li>On the peering details, you can see the <strong>Status</strong> is <em>Pending</em></li>
<li>Click <code>Actions</code> menu and select <code>Accept request</code> and confirm again (The <strong>Status</strong> of peering become <em>Active</em>)</li>
</ol>
<h2 class="heading" id="adding-vpc-peering-to-subnet-route-table">
  Adding VPC Peering to Subnet Route Table
  <a class="anchor" href="#adding-vpc-peering-to-subnet-route-table">#</a>
</h2>
<p><strong>This must be done on EC2 servers for both <em>Developer</em> and <em>Finance</em>.</strong></p>
<p><strong>Here I will configure the <em>Developer</em> instance.</strong></p>
<ol>
<li>
<p>Back to the EC2 instance and select <em>Developer</em> instance details, then <code>Subnet ID =&gt; Route table =&gt; Routes</code> (like the first step)</p>
</li>
<li>
<p>Click <code>Edit routes</code> to add new routes for VPC peering</p>
</li>
<li>
<p>Click <code>Add route</code> with the following:</p>
<ul>
<li><em>Destination</em>: Enter local IP address range for the <em>Finance</em> instance</li>
<li><em>Target</em>: <strong>Peering connection</strong> and select your <em>VPC Peering</em> that you&rsquo;ve created</li>
<li><strong>Save changes</strong></li>
</ul>
</li>
<li>
<p>Now move to the EC2 instance and select the <em>Finance</em> instance. Then, do the same as on top, but make sure to enter the <em>IP address range</em> of the <em>Developer</em> instance in the <em>Destination</em>.</p>
</li>
</ol>
<h2 class="heading" id="allow-icmpping-between-ec2-instances">
  Allow ICMP/Ping between EC2 Instances
  <a class="anchor" href="#allow-icmpping-between-ec2-instances">#</a>
</h2>
<p>In this example, I will allow ping to the <em>Finance</em> instance from the <em>Developer</em> instance.</p>
<ol>
<li>Click on the EC2 and select the <em>Finance</em> instance</li>
<li>Click on the <code>Security</code> tab and then click <code>Security groups</code> section</li>
<li>In the <code>Inbound rules</code> tab, click <code>Edit inbound rules</code></li>
<li>Now <code>Add rule</code>
<ul>
<li><em>Type</em>: Custom ICMP- IPv4</li>
<li><em>Source</em>: Enter the range IP address of <em>Developer</em> instance</li>
<li><strong>Save rules</strong></li>
</ul>
</li>
</ol>
<h2 class="heading" id="test-vpc-peering">
  Test VPC Peering
  <a class="anchor" href="#test-vpc-peering">#</a>
</h2>
<ol>
<li>Connect to your EC2 instance (<em>Developer</em>) via <em>Session Manager</em> or <em>SSH</em></li>
<li>You can now ping to the local IP of the <em>Finance</em> instance</li>
</ol>

    
  </div>

  

  

  
  

<div class="single-pagination">
    <hr />

    <div class="flexnowrap">

        <div class="single-pagination-prev">
            
            <div class="single-pagination-container-prev">
                <div class="single-pagination-text">‚Üê</div>
                <div class="single-pagination-text">
                    <a href="/posts/aws-vpc-guide/">
                        Guide to AWS VPC (Virtual Private Cloud)
                    </a>
                </div>
            </div>
            
        </div>

        <div class="single-pagination-next">
            
            <div class="single-pagination-container-next">
                <div class="single-pagination-text">
                    <a href="/posts/aws-rds-guide/">
                        Guide to Amazon RDS (Relational Database Service)
                    </a>
                </div>
                <div class="single-pagination-text">‚Üí</div>
            </div>
            
        </div>

    </div>

    <hr />
</div>



  

  

  
  <div class="back-to-top">
    <a href="#top">
      back to top
    </a>
  </div>
  

</div>


    </main>
  </div>

  
  





    




  <footer>
    

    
    





    




    
    
    
    <p>All content licensed under CC BY-SA 4.0 license unless otherwise stated. Copyright ¬© 2025 Nadlir.</p>
    


  </footer>

  
</body>

<script src="/js/theme-switch.js"></script>
<script defer src="/js/copy-code.js"></script>
</html>
