<!DOCTYPE html>
<html><head lang="en"><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Guide to AWS VPC Peering - Nadlir Blog</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Intro
VPC Peering is needed when you want to connect two different VPC each other. Mostly used for cross-department in SDLC.
In this example, I will connect between two VPCs Developer and Finance, and each VPC attached to different EC2 intance.
Check Private IP range of an EC2 instance
Make sure to check local IP address range for both Developer and Finance instances.

Navigate to the Developer instance, select and click on the Subnet ID
In the subnet section, select your subnet name and click on the Route table
In the route table section, select your route table and click Routes tab
Take a notes on the private IP address range for the Developer instance

Creating VPC Peering

Go to the VPC menu via console, select Peering connections, then click Create peering connection button
Enter your peering details such as:

Name: Developer &lt;&gt; Finance
VPC ID (Requester): Select the Developer VPC and check the local IP address range of the VPC
VPC ID (Accepter): Select the Finance VPC and check the local IP range of the VPC
Tags: Name =&gt; Developer &lt;&gt; Finance


Confirm click the Create peering connection
On the peering details, you can see the Status is Pending
Click Actions menu and select Accept request and confirm again (The Status of peering become Active)

Adding VPC Peering to Subnet Route Table
This must be done on EC2 servers for both Developer and Finance." />
	<meta property="og:image" content=""/>
	<meta property="og:url" content="http://localhost:1313/posts/aws-vpc-peering/">
  <meta property="og:site_name" content="Nadlir Blog">
  <meta property="og:title" content="Guide to AWS VPC Peering">
  <meta property="og:description" content="Intro VPC Peering is needed when you want to connect two different VPC each other. Mostly used for cross-department in SDLC.
In this example, I will connect between two VPCs Developer and Finance, and each VPC attached to different EC2 intance.
Check Private IP range of an EC2 instance Make sure to check local IP address range for both Developer and Finance instances.
Navigate to the Developer instance, select and click on the Subnet ID In the subnet section, select your subnet name and click on the Route table In the route table section, select your route table and click Routes tab Take a notes on the private IP address range for the Developer instance Creating VPC Peering Go to the VPC menu via console, select Peering connections, then click Create peering connection button Enter your peering details such as: Name: Developer &lt;&gt; Finance VPC ID (Requester): Select the Developer VPC and check the local IP address range of the VPC VPC ID (Accepter): Select the Finance VPC and check the local IP range of the VPC Tags: Name =&gt; Developer &lt;&gt; Finance Confirm click the Create peering connection On the peering details, you can see the Status is Pending Click Actions menu and select Accept request and confirm again (The Status of peering become Active) Adding VPC Peering to Subnet Route Table This must be done on EC2 servers for both Developer and Finance.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-03-21T00:22:46+07:00">
    <meta property="article:modified_time" content="2025-03-21T00:22:46+07:00">
    <meta property="article:tag" content="Aws">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Guide to AWS VPC Peering">
  <meta name="twitter:description" content="Intro VPC Peering is needed when you want to connect two different VPC each other. Mostly used for cross-department in SDLC.
In this example, I will connect between two VPCs Developer and Finance, and each VPC attached to different EC2 intance.
Check Private IP range of an EC2 instance Make sure to check local IP address range for both Developer and Finance instances.
Navigate to the Developer instance, select and click on the Subnet ID In the subnet section, select your subnet name and click on the Route table In the route table section, select your route table and click Routes tab Take a notes on the private IP address range for the Developer instance Creating VPC Peering Go to the VPC menu via console, select Peering connections, then click Create peering connection button Enter your peering details such as: Name: Developer &lt;&gt; Finance VPC ID (Requester): Select the Developer VPC and check the local IP address range of the VPC VPC ID (Accepter): Select the Finance VPC and check the local IP range of the VPC Tags: Name =&gt; Developer &lt;&gt; Finance Confirm click the Create peering connection On the peering details, you can see the Status is Pending Click Actions menu and select Accept request and confirm again (The Status of peering become Active) Adding VPC Peering to Subnet Route Table This must be done on EC2 servers for both Developer and Finance.">

        <link href="http://localhost:1313/css/fonts.2c2227b81b1970a03e760aa2e6121cd01f87c88586803cbb282aa224720a765f.css" rel="stylesheet">
	

	
	<link rel="stylesheet" type="text/css" media="screen" href="http://localhost:1313/css/main.6a0f23ea50fd34b46fee262a5a68e17d458c51a2bc99ba1ba018065de6b180c3.css" />
		<link id="darkModeStyle" rel="stylesheet" type="text/css" href="http://localhost:1313/css/dark.50b57e12d401420df23965fed157368aba37b76df0ecefd0b1ecd4da664f01a0.css"   />
</head>
<body>
        <div class="content"><header>
	<div class="main">
		<a href="http://localhost:1313/">Nadlir Blog</a>
	</div>
	<nav>
		
		
	</nav>
</header>

<main>
  <article>
    <div class="post-container">
      
      <div class="post-content">
        <div class="title">
          <h1 class="title">Guide to AWS VPC Peering</h1>
          <div class="meta">Posted on Mar 21, 2025</div>
        </div>
        
        <section class="body">
          <h2 id="intro">Intro</h2>
<p>VPC Peering is needed when you want to connect <strong>two</strong> different VPC each other. Mostly used for cross-department in SDLC.</p>
<p>In this example, I will connect between two VPCs <em>Developer</em> and <em>Finance</em>, and each VPC attached to different EC2 intance.</p>
<h2 id="check-private-ip-range-of-an-ec2-instance">Check Private IP range of an EC2 instance</h2>
<p><strong>Make sure to check local IP address range for both <em>Developer</em> and <em>Finance</em> instances.</strong></p>
<ol>
<li>Navigate to the <em>Developer</em> instance, select and click on the <code>Subnet ID</code></li>
<li>In the subnet section, select your subnet name and click on the <code>Route table</code></li>
<li>In the route table section, select your route table and click <code>Routes</code> tab</li>
<li>Take a notes on the private IP address range for the <em>Developer</em> instance</li>
</ol>
<h2 id="creating-vpc-peering">Creating VPC Peering</h2>
<ol>
<li>Go to the <code>VPC</code> menu via console, select <code>Peering connections</code>, then click <code>Create peering connection</code> button</li>
<li>Enter your peering details such as:
<ul>
<li><em>Name</em>: Developer &lt;&gt; Finance</li>
<li><em>VPC ID (Requester)</em>: Select the <strong>Developer</strong> VPC and check the local IP address range of the VPC</li>
<li><em>VPC ID (Accepter)</em>: Select the <strong>Finance</strong> VPC and check the local IP range of the VPC</li>
<li><em>Tags</em>: Name =&gt; Developer &lt;&gt; Finance</li>
</ul>
</li>
<li>Confirm click the <code>Create peering connection</code></li>
<li>On the peering details, you can see the <strong>Status</strong> is <em>Pending</em></li>
<li>Click <code>Actions</code> menu and select <code>Accept request</code> and confirm again (The <strong>Status</strong> of peering become <em>Active</em>)</li>
</ol>
<h2 id="adding-vpc-peering-to-subnet-route-table">Adding VPC Peering to Subnet Route Table</h2>
<p><strong>This must be done on EC2 servers for both <em>Developer</em> and <em>Finance</em>.</strong></p>
<p><strong>Here I will configure the <em>Developer</em> instance.</strong></p>
<ol>
<li>
<p>Back to the EC2 instance and select <em>Developer</em> instance details, then <code>Subnet ID =&gt; Route table =&gt; Routes</code> (like the first step)</p>
</li>
<li>
<p>Click <code>Edit routes</code> to add new routes for VPC peering</p>
</li>
<li>
<p>Click <code>Add route</code> with the following:</p>
<ul>
<li><em>Destination</em>: Enter local IP address range for the <em>Finance</em> instance</li>
<li><em>Target</em>: <strong>Peering connection</strong> and select your <em>VPC Peering</em> that you&rsquo;ve created</li>
<li><strong>Save changes</strong></li>
</ul>
</li>
<li>
<p>Now move to the EC2 instance and select the <em>Finance</em> instance. Then, do the same as on top, but make sure to enter the <em>IP address range</em> of the <em>Developer</em> instance in the <em>Destination</em>.</p>
</li>
</ol>
<h2 id="allow-icmpping-between-ec2-instances">Allow ICMP/Ping between EC2 Instances</h2>
<p>In this example, I will allow ping to the <em>Finance</em> instance from the <em>Developer</em> instance.</p>
<ol>
<li>Click on the EC2 and select the <em>Finance</em> instance</li>
<li>Click on the <code>Security</code> tab and then click <code>Security groups</code> section</li>
<li>In the <code>Inbound rules</code> tab, click <code>Edit inbound rules</code></li>
<li>Now <code>Add rule</code>
<ul>
<li><em>Type</em>: Custom ICMP- IPv4</li>
<li><em>Source</em>: Enter the range IP address of <em>Developer</em> instance</li>
<li><strong>Save rules</strong></li>
</ul>
</li>
</ol>
<h2 id="test-vpc-peering">Test VPC Peering</h2>
<ol>
<li>Connect to your EC2 instance (<em>Developer</em>) via <em>Session Manager</em> or <em>SSH</em></li>
<li>You can now ping to the local IP of the <em>Finance</em> instance</li>
</ol>

        </section>
        <div class="post-tags">
          
          
          <nav class="nav tags">
            <ul class="tags">
              
              <li><a href="/tags/aws">aws</a></li>
              
            </ul>
          </nav>
          
          
        </div>
      </div>

      
      
    </div>

    </article>
</main>
<footer>
  <div style="display:flex"></div>
  <div class="footer-info">
    2025  <a
      href="https://github.com/athul/archie">Archie Theme</a> | Built with <a href="https://gohugo.io">Hugo</a>
  </div>
</footer>

</div>
    </body>
</html>
